---
id: 331
title: 날짜 기준 검색이 가능해졌습니다
date: 2013-03-07T06:07:31+00:00
author: 노동자 연대 웹마스터
layout: post
guid: http://work.local/webmaster/?p=331
permalink: /archives/331
tistory_id:
  - 95
categories:
  - 사이트 이용안내
---
레프트21 웹사이트는 종이 신문의 온라인 판인 동시에 풍부한 자료의 보고이기도 합니다. 물론 자료가 그저 많기만 하다고 해서 ‘자료의 보고’라고 할 수는 없습니다. 사용자가 원하는 자료를 쉽게 찾을 수도 있어야 합니다. 그런 점에서 검색 기능은 레프트21에서 매우 중요한 기능입니다. 

레프트21에서는 구글이 제공하는 맞춤 검색 서비스 덕에 훌륭한 검색 결과를 얻을 수 있었습니다. 맞춤 검색 서비스는 검색어와 관련성이 높은 기사들을 먼저 보여주기 때문입니다.

## 기존 검색에서 아쉬웠던 점들  


그러나 검색어가 아니라 날짜나 저자와 같은 다른 여러가지 기준으로는 검색을 할 수 없었습니다. 물론 검색 결과 페이지에서 ‘날짜’를 기준으로 검색 결과를 정렬하는 버튼이 있기는 했지만, ‘날짜’를 기준으로 정렬하면 관련성은 아예 무시되기 때문에, 특정 시기의 기사를 찾으려면 관련성이 떨어지는 결과 사이에서 원하는 기사를 찾아 헤매야 했습니다.

예를 들어 ‘민영화’로 검색을 하면 아래와 같이 사이트 우측 상단에 있는 《KTX:**민영화**: 재앙의 신호탄 - 정치적 분석과 투쟁 방향》을 홍보하는 문구가 검색에 잡힙니다. 

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile2.uf.20654F5051382C103D5019.jpg" class="aligncenter" width="330" height="300" filename="sidebar.jpg" filemime="image/jpeg" />
</p>

물론 관련성을 기준으로 검색하면 이러한 결과는 뒤로 밀려나기 마련이지만, 날짜로 검색하면 그렇지 않습니다. 그래서 특정 시기의 기사를 찾으려면 이런 결과들을 걸러내는 수고를 사용자가 해야 합니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile3.uf.237C315051382C3713D4F4.jpg" class="aligncenter" width="630" height="297" filename="badResult1.jpg" filemime="image/jpeg" />
</p>

(날짜로 결과를 정렬한 결과 민영화와 아무런 관련이 없는 기사가 이 소책자 광고 때문에 버젓이 검색 결과에 포함됐습니다.)

더군다나 구글 맞춤 검색 서비스가 검색 결과를 10페이지 밖에 제공해주지 않기 때문에, 검색 결과를 날짜로 정렬하면 오래된 기사는 아예 볼 수도 없었습니다. 

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile7.uf.1659224751382C592A0EB7.jpg" class="aligncenter" width="630" height="133" filename="badResult2.jpg" filemime="image/jpeg" />
</p>

(이런! 2012년 9월 2일 이전 기사는 볼 도리가 없군요!)

## 이제는 날짜로 검색할 수 있습니다

원하는 기간을 한정해서 관련성을 기준으로 정렬하면 이런 문제를 어느 정도 해결할 수 있습니다. 사용자가 기간을 정해주면 그 기간에 발행된 기사만 찾고, 찾아낸 기사를 관련성이 높은 순으로 보여주는 것입니다. 

그러려면 날짜를 기준으로 검색을 할 수 있어야 합니다. 그래서 그런 기능을 만들었습니다.

### 사용 방법

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile22.uf.243E314B51382C911910FC.jpg" class="aligncenter" width="522" height="220" filename="apiSearch-toggle.jpg" filemime="image/jpeg" />
</p>



날짜 검색 기능은 검색 결과 페이지에서 사용할 수 있습니다. 검색 결과 상단에 있는 “상세 검색 펼치기”를 누르면, 날짜 검색을 위한 입력 양식이 나타납니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile9.uf.0279354E51382CBD262851.jpg" class="aligncenter" width="583" height="181" filename="apiSearch-ctrl.jpg" filemime="image/jpeg" />
</p>

날짜를 입력하고 ‘검색하기’ 버튼을 누르면 정해진 기간에 나온 기사만 검색됩니다. ‘부터’에만 입력하면 오늘까지로, ‘까지’에만 입력하면 기간은 1980년 1월 1일부터로 검색됩니다.

날짜는 다음과 같은 방법으로 입력할 수 있습니다.

#### 날짜 입력 방법1: 간단한 방법

날짜 입력란을 클릭하면 달력이 나옵니다. 달력으로 날짜를 선택합니다. 

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile8.uf.1307304851382CD917C004.jpg" class="aligncenter" width="300" height="290" filename="apiSearch-datepicker.jpg" filemime="image/jpeg" />
</p>

오늘은 회색, 기존에 선택된 날짜는 진한 회색으로 표시됩니다. 달력 상단의 좌우에 있는 화살표를 클릭하면 월이 바뀝니다. 

#### 날짜 입력 방법2: 자동 입력

입력란 오른쪽에 있는(좁은 화면의 경우 아래에) 버튼을 누르면, 버튼에 적힌 기간에 따라 입력란이 자동으로 채워집니다.</p> 

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile24.uf.157BEC4951382CFB30C97D.jpg" class="aligncenter" width="588" height="184" filename="apiSearch-byDate-auto-example.jpg" filemime="image/jpeg" />
</p>

#### 날짜 입력 방법3: 직접 입력

입력란에 타이핑을 해서 직접 날짜를 입력합니다. 연도는 네자리로 입력해주시고 년, 월, 일을 문자나 공백으로 구분해주기만 하면 됩니다. 다음은 모두 2010년 10월 4일로 간주됩니다.

            2010-10-4
            2010-10-04
            2010/10/4
            2010 10 4
            2010년 10월 4일
    

“97”년, “05”년쳐럼 두자리로 년도를 입력하면 자동으로 “1997”년, “2005”년으로 변환됩니다.

            97년 1월 1일 → 1997-01-01
            05년 1월 1일 → 2005-01-01
    

현재는 “50”을 기준으로 그보다 크면 1900, 그보다 작으면 2000을 더합니다.

한편 년, 월, 일을 모두 입력하지 않아도 됩니다. 빠진 항목은 자동으로 채워줍니다. ‘부터’ 란에서는 시작일로, ‘까지’란에서는 마지막 날로 자동으로 채워집니다. 예:

            <부터>
                    2013    → 2013-01-01
                    2013-06 → 2013-06-01
    
            <까지>
                    2013    → 2013-12-31
                    2013-02 → 2013-02-28
    

그래서 2010년에 (2010년 1월 1일부터 12월 31일까지) 나온 기사로 검색하고 싶다면 다음과 같이 입력할 수도 있습니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile23.uf.0108F95051382D6C0491C5.jpg" class="aligncenter" width="300" height="44" filename="apiSearch-byDate-sanitize1.jpg" filemime="image/jpeg" />
</p>

‘부터’ 란에 2010만 입력합니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile25.uf.126CBA4D51382D8B16E05A.jpg" class="aligncenter" width="291" height="48" filename="apiSearch-byDate-sanitize2.jpg" filemime="image/jpeg" />
</p>

입력란에서 나오면 2010이 자동으로 2010-01-01로 바뀝니다. ‘까지’ 란의 경우에는 2010-12-31로 바뀝니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile4.uf.1769F84751382DA71140C2.jpg" class="aligncenter" width="297" height="49" filename="apiSearch-byDate-sanitize3.jpg" filemime="image/jpeg" />
</p>

## 10페이지 이후에도 구글에서 검색을 계속할 수 있습니다

앞서 언급했듯 구글 맞춤 검색 서비스는 검색 결과를 10페이지로 제한하기에, 레프트21에서는 모든 검색 결과를 볼 수 없었습니다. 물론 구글에 들어가서 특수한 검색 조건을 직접 입력해서 검색하면 나머지 검색 결과를 볼 수도 있지만, 이는 매우 불편합니다.

이제는 검색 결과가 10페이지를 넘어도 검색을 계속할 수 있습니다. 검색 결과가 10페이지가 넘고, 10번째 검색 결과 페이지를 보고 있다면 구글로 넘어가 검색을 계속 할 수 있는 링크가 나타납니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile10.uf.263FAE4B51382DD71BD1D3.jpg" class="aligncenter" width="630" height="136" filename="cseSearch-googleLink.jpg" filemime="image/jpeg" />
</p>

이 링크를 타고 가면 입력한 검색어와 함께 특수한 검색 조건이 자동으로 입력된 것을 볼 수 있습니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile9.uf.036BDC4751382E0B0F4275.jpg" class="aligncenter" width="425" height="63" filename="googleSearch-q.jpg" filemime="image/jpeg" />
</p>

상세 검색을 할 경우에도 기존에 입력한 조건을 이어받아 검색을 진행합니다. 아래 레프트21 상세 검색 입력란에는 2012년 3월 6일부터 다음 해까지가 입력돼 있습니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile25.uf.15189E4951382E3A07007C.jpg" class="aligncenter" width="321" height="81" filename="apiSearch-byDate-example.jpg" filemime="image/jpeg" />
</p>

10번째 결과 페이지에 나타나는 구글 검색으로 가는 링크를 타면 다음과 같이 검색 조건이 추가된 것을 볼 수 있습니다.

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile8.uf.2702174951382E6C2E505B.jpg" class="aligncenter" width="449" height="132" filename="googleSearch-condition.jpg" filemime="image/jpeg" />
</p>

다만 자바스크립트가 꺼져있거나 구글 측이 지원하지 않는 웹브라우저의 경우에는 검색 조건이 이어지지 않을 수 있습니다. 구글 측이 지원하는 웹브라우저는 다음과 같습니다.

  * 익스플로러 8 이상
  * 파이어폭스 3.6 이상
  * 사파리 4.0 이상
  * 크롬 10 이상

## 자바스크립트가 꺼져있어도 검색을 할 수 있습니다

매우 드문 경우이지만 자바스크립트를 끄거나 자바스크립트를 실행할 수 없는 환경에서 레프트21에 접속하는 사용자들도 있습니다. 이런 경우 레프트 21에서 검색을 하는 것은 불가능했습니다. 구글 맞춤 검색 서비스가 자바스크립트를 이용해 검색에 필요한 것들을 가져오기 때문입니다.

이제는 자바스크립트가 없어도 검색을 할 수 있습니다. 자바스크립트가 없는 경우 검색창을 치면 구글로 넘어가서 검색을 수행합니다.

자바스크립트가 없는 상태에서 상세 검색을 하고 싶은 경우 검색창 옆에 나타난 상세 검색 링크를 클릭하면 됩니다. 다만 자바스크립트가 없는 경우 날짜를 입력해주는 달력이나 버튼을 사용할 수 없습니다. 

<p style="text-align: center; clear: none; float: none;">
  <img src="http://work.local/webmaster/wp-content/uploads/1/cfile2.uf.1946EE4B51382E8B12C5AD.jpg" class="aligncenter" width="386" height="131" filename="apiSearch-standAloneLink.jpg" filemime="image/jpeg" />
</p>

(자바스크립트가 켜져있다면 이 링크는 나타나지 않습니다.)

## 남은 이야기들

  * 다른 기준도 나중에 추가할 예정입니다. (저자, 분류 등)
  * 현재 상세 검색은 하루 사용량이 제한돼 있습니다. 상세 검색은 구글의 Custom Search API를 활용해 구현된 것인데, 구글 측에서는 이 서비스의 하루 처리량을 제한하고 있습니다. 아직은 일일 검색 기능 사용량이 이 처리량보다는 적고, 상세 검색 기능은 더 적게 사용될 것이기 때문에 문제는 없을 것입니다.